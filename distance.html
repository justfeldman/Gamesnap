<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Guessing Game</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }
        .game-container {
            text-align: center;
            max-width: 400px;
        }
        input, button {
            padding: 10px;
            margin: 5px;
            font-size: 1em;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h2>Guess the City Distance!</h2>
        <p>Enter a city name to guess the distance from the target city.</p>
        <input type="text" id="cityName" placeholder="Enter city name" required>
        <button onclick="checkDistance()">Submit Guess</button>
        <p id="result"></p>
    </div>

    <script>
        // Predefined city coordinates (for demonstration purposes)
        const cities = {
            "Toronto": { lat: 43.65107, lon: -79.347015 },
            "Montreal": { lat: 45.5017, lon: -73.5673 },
            "Vancouver": { lat: 49.2827, lon: -123.1207 },
            "Calgary": { lat: 51.0447, lon: -114.0719 },
            "Ottawa": { lat: 45.4215, lon: -75.6972 },
            "New York": { lat: 40.7128, lon: -74.0060 },
            "Los Angeles": { lat: 34.0522, lon: -118.2437 },
            "Chicago": { lat: 41.8781, lon: -87.6298 }
        };

        // Randomly select a target city from the list
        const cityNames = Object.keys(cities);
        const targetCity = cityNames[Math.floor(Math.random() * cityNames.length)];
        const targetCoordinates = cities[targetCity];

        console.log(`Target City: ${targetCity}`); // For testing

        // Function to calculate distance using Haversine formula
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // Radius of Earth in kilometers
            const dLat = (lat2 - lat1) * (Math.PI / 180);
            const dLon = (lon2 - lon1) * (Math.PI / 180);
            const a = 
                Math.sin(dLat / 2) * Math.sin(dLat / 2) +
                Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) *
                Math.sin(dLon / 2) * Math.sin(dLon / 2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            return R * c;
        }

        // Function to check distance based on guessed city
        function checkDistance() {
            const guessedCity = document.getElementById("cityName").value;
            const guessedCoordinates = cities[guessedCity];

            if (guessedCoordinates) {
                const distance = calculateDistance(
                    guessedCoordinates.lat, 
                    guessedCoordinates.lon, 
                    targetCoordinates.lat, 
                    targetCoordinates.lon
                );

                document.getElementById("result").textContent = 
                    `Your guess (${guessedCity}) is ${distance.toFixed(2)} km away from the target city.`;
            } else {
                document.getElementById("result").textContent = 
                    `Sorry, "${guessedCity}" is not in our city list. Try another city.`;
            }

            // Clear input for the next guess
            document.getElementById("cityName").value = "";
        }
    </script>
</body>
</html>
